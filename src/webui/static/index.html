<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yggdrasil Web Interface</title>
    <link rel="stylesheet" href="static/style.css">
    <script src="static/lang/ru.js"></script>
    <script src="static/lang/en.js"></script>
</head>

<body>
    <div class="container">
        <header>
            <div class="header-content">
                <div>
                    <h1 data-key="title">üå≥ Yggdrasil Web Interface</h1>
                    <p data-key="subtitle">Network mesh management dashboard</p>
                </div>
                <div class="header-actions">
                    <div class="language-switcher">
                        <button onclick="switchLanguage('ru')" class="lang-btn" id="lang-ru">RU</button>
                        <button onclick="switchLanguage('en')" class="lang-btn" id="lang-en">EN</button>
                    </div>
                    <button onclick="logout()" class="logout-btn" data-key="logout">Logout</button>
                </div>
            </div>
        </header>

        <div class="layout">
            <aside class="sidebar">
                <nav class="nav-menu">
                    <div class="nav-item active" onclick="showSection('status')">
                        <span class="nav-icon">üìä</span>
                        <span class="nav-text" data-key="nav_status">–°–æ—Å—Ç–æ—è–Ω–∏–µ</span>
                    </div>
                    <div class="nav-item" onclick="showSection('peers')">
                        <span class="nav-icon">üåê</span>
                        <span class="nav-text" data-key="nav_peers">–ü–∏—Ä—ã</span>
                    </div>
                    <div class="nav-item" onclick="showSection('config')">
                        <span class="nav-icon">‚öôÔ∏è</span>
                        <span class="nav-text" data-key="nav_config">–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è</span>
                    </div>
                </nav>
            </aside>

            <main class="main-content">
                <div id="status-section" class="content-section active">
                    <div class="status-card">
                        <h2 data-key="status_title">–°–æ—Å—Ç–æ—è–Ω–∏–µ —É–∑–ª–∞</h2>
                        <div class="status-indicator">
                            <span class="status-dot active"></span>
                            <span data-key="status_active">–ê–∫—Ç–∏–≤–µ–Ω</span>
                        </div>
                        <p data-key="status_description">WebUI –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω</p>
                    </div>

                    <div class="info-grid">
                        <div class="info-card">
                            <h3 data-key="network_info">–°–µ—Ç–µ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                            <p><span data-key="address">–ê–¥—Ä–µ—Å</span>: 200:1234:5678:9abc::1</p>
                            <p><span data-key="subnet">–ü–æ–¥—Å–µ—Ç—å</span>: 300:1234:5678:9abc::/64</p>
                        </div>

                        <div class="info-card">
                            <h3 data-key="statistics">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                            <p><span data-key="uptime">–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã</span>: 2–¥ 15—á 42–º</p>
                            <p><span data-key="connections">–ê–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π</span>: 3</p>
                        </div>
                    </div>
                </div>

                <div id="peers-section" class="content-section">
                    <div class="status-card">
                        <h2 data-key="peers_title">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∏—Ä–∞–º–∏</h2>
                        <p data-key="peers_description">–ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏ —Å –ø–∏—Ä–∞–º–∏</p>
                    </div>

                    <div class="info-grid">
                        <div class="info-card">
                            <h3 data-key="active_peers">–ê–∫—Ç–∏–≤–Ω—ã–µ –ø–∏—Ä—ã</h3>
                            <p data-key="active_connections">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π</p>
                            <small data-key="coming_soon">–§—É–Ω–∫—Ü–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ...</small>
                        </div>

                        <div class="info-card">
                            <h3 data-key="add_peer">–î–æ–±–∞–≤–∏—Ç—å –ø–∏—Ä</h3>
                            <p data-key="add_peer_description">–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –Ω–æ–≤–æ–º—É —É–∑–ª—É</p>
                            <small data-key="coming_soon">–§—É–Ω–∫—Ü–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ...</small>
                        </div>
                    </div>
                </div>

                <div id="config-section" class="content-section">
                    <div class="status-card">
                        <h2 data-key="config_title">–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è</h2>
                        <p data-key="config_description">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–∑–ª–∞ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–µ—Ç–∏</p>
                    </div>

                    <div class="info-grid">
                        <div class="info-card">
                            <h3 data-key="basic_settings">–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
                            <p data-key="basic_settings_description">–ë–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —É–∑–ª–∞</p>
                            <small data-key="coming_soon">–§—É–Ω–∫—Ü–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ...</small>
                        </div>

                        <div class="info-card">
                            <h3 data-key="network_settings">–°–µ—Ç–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
                            <p data-key="network_settings_description">–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–µ—Ç–µ–≤–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è</p>
                            <small data-key="coming_soon">–§—É–Ω–∫—Ü–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ...</small>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <footer>
            <p data-key="footer_text">Yggdrasil Network ‚Ä¢ Minimal WebUI v1.0</p>
        </footer>
    </div>

    <script>
        let currentLanguage = localStorage.getItem('yggdrasil-language') || 'ru';

        function updateTexts() {
            const elements = document.querySelectorAll('[data-key]');
            elements.forEach(element => {
                const key = element.getAttribute('data-key');
                if (window.translations && window.translations[currentLanguage] && window.translations[currentLanguage][key]) {
                    element.textContent = window.translations[currentLanguage][key];
                }
            });
        }

        function switchLanguage(lang) {
            currentLanguage = lang;
            localStorage.setItem('yggdrasil-language', lang);

            // Update active button
            document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById('lang-' + lang).classList.add('active');

            updateTexts();
        }

        function logout() {
            const confirmText = window.translations[currentLanguage]['logout_confirm'];
            if (confirm(confirmText)) {
                window.location.href = '/auth/logout';
            }
        }

        function showSection(sectionName) {
            // Hide all sections
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => section.classList.remove('active'));

            // Remove active class from all nav items
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => item.classList.remove('active'));

            // Show selected section
            const targetSection = document.getElementById(sectionName + '-section');
            if (targetSection) {
                targetSection.classList.add('active');
            }

            // Add active class to clicked nav item
            event.target.closest('.nav-item').classList.add('active');
        }

        // Initialize language on page load
        document.addEventListener('DOMContentLoaded', function () {
            // Set active language button
            document.getElementById('lang-' + currentLanguage).classList.add('active');
            // Update all texts
            updateTexts();
        });
    </script>
</body>

</html>